# üöÄ CI/CD Test Project

–õ–µ–≥–∫–∏–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π CI/CD —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Å—Ç–µ–∫–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.

## üìã –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **Frontend**: React 18 + TypeScript + Vite
- **Backend**: Node.js + Express + TypeScript
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: Supabase (PostgreSQL)
- **CI/CD**: GitHub Actions

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ frontend/          # React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx   # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/      # –£—Ç–∏–ª–∏—Ç—ã (Supabase –∫–ª–∏–µ–Ω—Ç)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types/    # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ backend/          # Node.js API
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts  # Express —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ ci-cd.yml # CI/CD –ø–∞–π–ø–ª–∞–π–Ω
‚îî‚îÄ‚îÄ README.md
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd –°ICD

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install
npm run install:all
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ [supabase.com](https://supabase.com)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ SQL Editor –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã:

```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π
CREATE TABLE messages (
  id BIGSERIAL PRIMARY KEY,
  text TEXT NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- –í–∫–ª—é—á–µ–Ω–∏–µ Row Level Security (RLS)
ALTER TABLE messages ENABLE ROW LEVEL SECURITY;

-- –ü–æ–ª–∏—Ç–∏–∫–∞: —Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ–º —á–∏—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
CREATE POLICY "–ü—É–±–ª–∏—á–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π"
  ON messages FOR SELECT
  USING (true);

-- –ü–æ–ª–∏—Ç–∏–∫–∞: —Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
CREATE POLICY "–ü—É–±–ª–∏—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π"
  ON messages FOR INSERT
  WITH CHECK (true);
```

3. –ü–æ–ª—É—á–∏—Ç–µ URL –∏ –∫–ª—é—á–∏ –ø—Ä–æ–µ–∫—Ç–∞:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí API
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `Project URL` –∏ `anon public` key

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### Frontend

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `frontend/.env`:

```env
VITE_SUPABASE_URL=your_supabase_project_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

#### Backend

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `backend/.env`:

```env
PORT=3001
SUPABASE_URL=your_supabase_project_url
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
```

### 4. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å frontend –∏ backend –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ:
- Frontend: http://localhost:3000
- Backend API: http://localhost:3001

## üìñ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç CI/CD

### –û–±–∑–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞

CI/CD –ø–∞–π–ø–ª–∞–π–Ω –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

1. **Continuous Integration (CI)** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–±–æ—Ä–∫–∞
2. **Continuous Deployment (CD)** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏

### GitHub Actions –ø–∞–π–ø–ª–∞–π–Ω

–ü–∞–π–ø–ª–∞–π–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `.github/workflows/ci-cd.yml` –∏ –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã:

#### 1. Frontend Job (`frontend`)
```yaml
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ (checkout)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Node.js
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ó–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–∞
- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
```

#### 2. Backend Job (`backend`)
```yaml
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Node.js
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
```

#### 3. Root Check Job (`root-check`)
```yaml
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö workspace –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```

#### 4. Deploy Job (`deploy`)
```yaml
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–ø–ª–æ–π (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –¥–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä)
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ push –≤ main –≤–µ—Ç–∫—É
```

### –ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–∞–π–ø–ª–∞–π–Ω?

–ü–∞–π–ø–ª–∞–π–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏:
- **Push** –≤ –≤–µ—Ç–∫–∏ `main` –∏–ª–∏ `develop`
- **Pull Request** –≤ –≤–µ—Ç–∫–∏ `main` –∏–ª–∏ `develop`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ GitHub

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å–±–æ—Ä–∫–∏ —Å Supabase, –¥–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí Secrets and variables ‚Üí Actions
2. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã:
   - `VITE_SUPABASE_URL` - URL –≤–∞—à–µ–≥–æ Supabase –ø—Ä–æ–µ–∫—Ç–∞
   - `VITE_SUPABASE_ANON_KEY` - Anon –∫–ª—é—á Supabase

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ CI/CD

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Actions** –≤ –≤–∞—à–µ–º GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–π–Ω–∞
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –∫–∞–∂–¥–æ–≥–æ job'–∞

## üîß –ö–æ–º–∞–Ω–¥—ã –ø—Ä–æ–µ–∫—Ç–∞

### –ö–æ—Ä–Ω–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å

```bash
npm run dev          # –ó–∞–ø—É—Å–∫ frontend –∏ backend –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run build        # –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
npm run test         # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
npm run install:all  # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```

### Frontend

```bash
cd frontend
npm run dev      # –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞ (http://localhost:3000)
npm run build    # –°–±–æ—Ä–∫–∞ –¥–ª—è production
npm run preview  # –ü—Ä–æ—Å–º–æ—Ç—Ä production —Å–±–æ—Ä–∫–∏
npm run lint     # –ó–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–∞
npm run test     # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```

### Backend

```bash
cd backend
npm run dev      # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å hot reload
npm run build    # –°–±–æ—Ä–∫–∞ TypeScript –≤ JavaScript
npm start        # –ó–∞–ø—É—Å–∫ production –≤–µ—Ä—Å–∏–∏
npm run test     # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```

## üìù –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?

### Frontend

- React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∫—Ä–∞—Å–∏–≤—ã–º UI
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Supabase subscriptions
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### Backend

- REST API –Ω–∞ Express
- Health check endpoint (`/api/health`)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π endpoint (`/api/info`)

## üéØ –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å CI/CD?

### 1. –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
npm run build

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–Ω—Ç–µ—Ä
cd frontend && npm run lint
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ GitHub

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ç–∫—É:
   ```bash
   git checkout -b feature/test-cicd
   ```

2. –í–Ω–µ—Å–∏—Ç–µ –Ω–µ–±–æ–ª—å—à–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –∫–æ–¥)

3. Commit –∏ push:
   ```bash
   git add .
   git commit -m "test: –ø—Ä–æ–≤–µ—Ä–∫–∞ CI/CD"
   git push origin feature/test-cicd
   ```

4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request –≤ `main` –≤–µ—Ç–∫—É

5. –ü–∞–π–ø–ª–∞–π–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ä–∞–∑–¥–µ–ª–µ **Actions**

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ merge PR –≤ `main`, job `deploy` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è.

## üõ†Ô∏è –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–∞–ø–∫–∞—Ö:
- Frontend —Ç–µ—Å—Ç—ã: `frontend/src/**/*.test.tsx`
- Backend —Ç–µ—Å—Ç—ã: `backend/src/**/*.test.ts`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

–í job `deploy` –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

1. **–î–µ–ø–ª–æ–π frontend** –Ω–∞ Vercel/Netlify:
   ```yaml
   - name: Deploy to Vercel
     uses: amondnet/vercel-action@v20
     with:
       vercel-token: ${{ secrets.VERCEL_TOKEN }}
   ```

2. **–î–µ–ø–ª–æ–π backend** –Ω–∞ Railway/Heroku/AWS:
   ```yaml
   - name: Deploy to Railway
     run: |
       # –ö–æ–º–∞–Ω–¥—ã –¥–µ–ø–ª–æ—è
   ```

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [React Documentation](https://react.dev/)
- [TypeScript Documentation](https://www.typescriptlang.org/)
- [Supabase Documentation](https://supabase.com/docs)
- [GitHub Actions Documentation](https://docs.github.com/en/actions)
- [Vite Documentation](https://vitejs.dev/)

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork –ø—Ä–æ–µ–∫—Ç–∞
2. –°–æ–∑–¥–∞–π—Ç–µ feature –≤–µ—Ç–∫—É (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ –≤–µ—Ç–∫—É (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**–°–æ–∑–¥–∞–Ω–æ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è CI/CD –ø—Ä–∞–∫—Ç–∏–∫–∞–º** üöÄ

